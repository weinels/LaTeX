% syllabus helper
% 
% by Adam Wilson
%
%% This program can be redistributed and/or modified under the terms
%% of the LaTeX Project Public License Distributed from CTAN archives
%% in directory macros/latex/base/lppl.txt.
% 
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{syllabus_helper}
  [2016/09/30 v0.1 Package to provide standardization to the formatting of syllabi.]
  
\RequirePackage{general_macros}
\RequirePackage[calc, useregional, datesep=/]{datetime2}
\RequirePackage{termcal}
\RequirePackage{xparse}

\DTMsetdatestyle{mdyyyy}

\NewDocumentCommand\homeworklist{>{\SplitList{,}}m}
{%
  \ProcessList{#1}{\homeworkitem}%
  \firstitemtrue
}

\newif\iffirstitem
\firstitemtrue   
\newcommand\homeworkitem[1]{%
  \iffirstitem
    \firstitemfalse
  \else
    ,\ %
  \fi
  #1}

\ExplSyntaxOn
\newcommand{\homeworklistreset}[0]{\taburowcolors[2] 2{gray!30 .. white}}
\newcommand{\homeworkline}[2]{#1&\clist_count:n {#2}&\homeworklist{#2}\\\hline}

% command for adding holidays to a calendar
\newcommand{\holiday}[2]{\options{\DTMusedate{#1}}{\noclassday}\caltext{\DTMusedate{#1}}{#2\\No~Classes}}

\DTMnewdatestyle{DOWMonthDay}{%
% ##1 = year
% ##2 = month
% ##3 = day
% ##4 = dow
\renewcommand*{\DTMdisplaydate}[4]{% 
\DTMenglishweekdayname{##4}~\DTMenglishmonthname{##2}~
% ordinals function from the language pack doesn't seem to be working, so I recreated it below
\number##3~
\textsuperscript{%
\ifcase##3
\or \DTMenglishst
\or \DTMenglishnd
\or \DTMenglishrd
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishst
\or \DTMenglishnd
\or \DTMenglishrd
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishth
\or \DTMenglishst
\fi}}%
\renewcommand*{\DTMDisplaydate}{\DTMdisplaydate}%
}

\renewcommand{\thefootnote}{\fnsymbol{footnote}}

\newcommand{\prettydate}[1]{%
\DTMsetdatestyle{DOWMonthDay}
\DTMusedate{#1}
\DTMsetdatestyle{mdyyyy}}
%%
\endinput
%%
%% End of file